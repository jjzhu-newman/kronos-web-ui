# Kronos UI 用户使用指南

> 版本: 2.0.0
> 更新时间: 2025-02-04

---

## 目录

1. [快速开始](#快速开始)
2. [功能说明](#功能说明)
3. [数据源说明](#数据源说明)
4. [模型管理](#模型管理)
5. [常见问题](#常见问题)

---

## 快速开始

### Windows 用户

1. 双击 `scripts\start.bat` 启动应用
2. 浏览器自动打开 http://localhost:7070
3. 点击"加载模型"按钮加载预测模型
4. 选择数据源和交易代码，点击"预测"按钮

### Linux/Mac 用户

1. 运行 `bash scripts/start.sh` 启动应用
2. 浏览器访问 http://localhost:7070
3. 其余步骤同上

---

## 功能说明

### 1. 一键预测

最简单的预测方式：

1. 选择数据源（推荐默认的 Akshare）
2. 输入交易代码
   - A股: `601212` (白银有色)
   - 加密货币: `BTCUSDT` (比特币)
   - 美股: `AAPL` (苹果)
3. 选择时间周期（日线、小时等）
4. 点击"预测"按钮

### 2. 模型选择

Kronos UI 提供三个预训练模型：

| 模型 | 参数量 | 特点 | 推荐用途 |
|------|--------|------|----------|
| Kronos-mini | 4.1M | 最快 | 快速测试 |
| Kronos-small | 24.7M | 平衡 | 日常使用（推荐） |
| Kronos-base | 102.3M | 最精准 | 深度分析 |

### 3. 高级设置

在模型设置中可调整：

- **Lookback**: 历史数据点数 (50-2000，默认400)
- **预测长度**: 预测未来数据点数 (10-500，默认120)
- **Temperature**: 采样温度 (0.1-2.0，默认1.0)
  - 越高越随机/创新
  - 越低越保守
- **Top-P**: 核采样阈值 (0.1-1.0，默认0.9)

---

## 数据源说明

### A股数据源（自动降级）

系统采用**三级降级策略**，确保数据获取稳定性：

```
Akshare（主数据源）
    ↓ 失败自动切换
Baostock（第一备用）
    ↓ 失败自动切换
Tushare（第二备用）
```

#### Akshare（推荐）

- **优点**: 完全免费、无需注册、数据全
- **缺点**: 偶尔限流
- **使用**: 直接选择即可，无需配置

#### Baostock

- **优点**: 稳定可靠、完全免费
- **缺点**: 需要简单注册
- **配置**: 无需配置，自动登录

#### Tushare

- **优点**: 数据质量高
- **缺点**: 需要token、积分限制
- **配置**:
  1. 注册 https://tushare.pro/register
  2. 获取token
  3. 设置环境变量 `TUSHARE_TOKEN`

### 加密货币数据源

- **Binance**: 主数据源，免费API
- **Binance Futures**: 合约数据

### 全球股票数据源

- **Yahoo Finance**: 支持美股、港股等

---

## 模型管理

### 模型缓存

Kronos UI 支持模型本地缓存：

- 首次使用会从 HuggingFace 下载模型
- 下载后自动缓存到本地
- 再次使用时直接加载，无需重新下载

### 查看缓存

1. 点击顶部缓存图标
2. 查看已缓存的模型和大小

### 清除缓存

1. 打开缓存管理界面
2. 单独清除某个模型或清除所有缓存

---

## 常见问题

### Q1: 首次启动很慢？

**A**: 首次启动需要：
1. 检查并安装Python依赖（约1-2分钟）
2. 下载模型文件（根据网络速度，约1-10分钟）

后续启动会快很多。

### Q2: 模型下载失败？

**A**: 可能原因：
1. 网络问题：检查网络连接
2. HuggingFace连接问题：尝试使用VPN或镜像
3. 磁盘空间不足：确保有足够空间

### Q3: 预测失败？

**A**: 检查：
1. 模型是否已加载
2. 交易代码是否正确
3. 网络连接是否正常
4. 查看错误提示信息

### Q4: A股数据获取失败？

**A**: 系统会自动尝试其他数据源。如果全部失败：
1. 检查网络连接
2. 尝试更换数据源
3. 查看错误日志

### Q5: 如何提高预测速度？

**A**:
1. 使用更小的模型（Kronos-mini）
2. 减少lookback和pred_len参数
3. 如果有NVIDIA GPU，选择CUDA设备

### Q6: 预测结果准确吗？

**A**:
- Kronos是AI预测模型，仅供参考
- 不构成投资建议
- 实际投资需谨慎

---

## 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl + C | 停止服务器 |
| F5 | 刷新页面 |

---

## 技术支持

- **GitHub Issues**: [提交问题](https://github.com/jjzhu-newman/kronos-web-ui/issues)
- **日志位置**: `logs/app.log` 和 `logs/error.log`

---

## 更新日志

### v2.0.0 (2025-02-04)

- ✨ 新增 Baostock 数据源
- ✨ 实现自动降级策略
- ✨ 新增模型缓存管理
- ✨ 优化用户界面
- 🐛 修复依赖重复安装问题
- 📚 完善文档

---

**Made with ❤️ by Kronos UI Team**
